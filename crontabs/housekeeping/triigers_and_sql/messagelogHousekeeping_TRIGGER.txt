DELIMITER |
DELIMITER ;


(a)Insert

CREATE TRIGGER MESSAGE_LOG_TRIGGER_I AFTER INSERT ON MESSAGE_LOG
FOR EACH ROW
BEGIN
INSERT IGNORE INTO test.MESSAGE_LOG_ACTIVE values(NEW.SENDER,NEW.RECEIVER,NEW.DATE,NEW.IP,NEW.RECEIVER_STATUS,NEW.FOLDERID,NEW.MSG_OBS_ID,NEW.SENDER_STATUS,NEW.TYPE,NEW.ID,NEW.OBSCENE,NEW.IS_MSG,NEW.SEEN );
END; |


(b)Update

CREATE TRIGGER MESSAGE_LOG_TRIGGER_U AFTER UPDATE ON MESSAGE_LOG
FOR EACH ROW
BEGIN
REPLACE INTO test.MESSAGE_LOG_ACTIVE values(NEW.SENDER,NEW.RECEIVER,NEW.DATE,NEW.IP,NEW.RECEIVER_STATUS,NEW.FOLDERID,NEW.MSG_OBS_ID,NEW.SENDER_STATUS,NEW.TYPE,NEW.ID,NEW.OBSCENE,NEW.IS_MSG,NEW.SEEN );
END; |



(c)Delete

CREATE TRIGGER MESSAGE_LOG_TRIGGER_D AFTER DELETE ON MESSAGE_LOG
FOR EACH ROW
BEGIN
DELETE FROM test.MESSAGE_LOG_ACTIVE WHERE ID=OLD.ID;
END; |

