DELIMITER |
DELIMITER ;


(a)Insert

CREATE TRIGGER MESSAGES_TRIGGER_I AFTER INSERT ON MESSAGES
FOR EACH ROW
BEGIN
INSERT IGNORE INTO test.MESSAGES_ACTIVE values(NEW.ID,NEW.MESSAGE);
END; |


(b)Update

CREATE TRIGGER MESSAGES_TRIGGER_U AFTER UPDATE ON MESSAGES
FOR EACH ROW
BEGIN
REPLACE INTO test.MESSAGES_ACTIVE values(NEW.ID,NEW.MESSAGE);
END; |



(c)Delete

CREATE TRIGGER MESSAGES_TRIGGER_D AFTER DELETE ON MESSAGES
FOR EACH ROW
BEGIN
DELETE FROM test.MESSAGES_ACTIVE WHERE ID=OLD.ID;
END; |

