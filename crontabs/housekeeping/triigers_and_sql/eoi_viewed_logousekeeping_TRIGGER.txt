DELIMITER |
DELIMITER ;


(a)Insert

CREATE TRIGGER EOI_VIEWED_LOG_TRIGGER_I AFTER INSERT ON EOI_VIEWED_LOG
FOR EACH ROW
BEGIN
INSERT IGNORE INTO test.EOI_VIEWED_LOG_ACTIVE values(NEW.VIEWER,NEW.VIEWED,NEW.DATE);
END; |


(b)Update

CREATE TRIGGER EOI_VIEWED_LOG_TRIGGER_U AFTER UPDATE ON EOI_VIEWED_LOG
FOR EACH ROW
BEGIN
REPLACE INTO test.EOI_VIEWED_LOG_ACTIVE values(NEW.VIEWER,NEW.VIEWED,NEW.DATE);
END; |



(c)Delete

CREATE TRIGGER EOI_VIEWED_LOG_TRIGGER_D AFTER DELETE ON EOI_VIEWED_LOG
FOR EACH ROW
BEGIN
DELETE FROM test.EOI_VIEWED_LOG_ACTIVE WHERE VIEWER=OLD.VIEWER AND VIEWED=OLD.VIEWED;
END; |

