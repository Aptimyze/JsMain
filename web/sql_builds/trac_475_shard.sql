USE MIS;

CREATE TABLE if NOT exists SEARCH_CONTACT_FLOW_TRACKING_CURR LIKE SEARCH_CONTACT_FLOW_TRACKING;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING to SEARCH_CONTACT_FLOW_TRACKING_TEMP;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_CURR to SEARCH_CONTACT_FLOW_TRACKING;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_TEMP to SEARCH_CONTACT_FLOW_TRACKING_CURR;

ALTER TABLE  SEARCH_CONTACT_FLOW_TRACKING_CURR ADD FROM_DETAILPROFILE  char(1) DEFAULT 'N';

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING to SEARCH_CONTACT_FLOW_TRACKING_TEMP;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_CURR to SEARCH_CONTACT_FLOW_TRACKING;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_TEMP to SEARCH_CONTACT_FLOW_TRACKING_CURR;

INSERT INTO SEARCH_CONTACT_FLOW_TRACKING(PROFILEID,SEARCH_TYPE,DATE) SELECT PROFILEID,SEARCH_TYPE,DATE FROM SEARCH_CONTACT_FLOW_TRACKING_CURR;

DROP TABLE IF EXISTS SEARCH_CONTACT_FLOW_TRACKING_CURR;

CREATE TABLE if NOT exists SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR LIKE SEARCH_CONTACT_FLOW_TRACKING_NEW;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW to SEARCH_CONTACT_FLOW_TRACKING_NEW_TEMP;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR to SEARCH_CONTACT_FLOW_TRACKING_NEW;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW_TEMP to SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR;

ALTER TABLE  SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR ADD FROM_DETAILPROFILE  char(1) DEFAULT 'N';

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW to SEARCH_CONTACT_FLOW_TRACKING_NEW_TEMP;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR to SEARCH_CONTACT_FLOW_TRACKING_NEW;

RENAME TABLE SEARCH_CONTACT_FLOW_TRACKING_NEW_TEMP to SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR;

INSERT INTO SEARCH_CONTACT_FLOW_TRACKING_NEW(PROFILEID,SEARCH_TYPE,CONTACTID,DATE) SELECT PROFILEID,SEARCH_TYPE,CONTACTID,DATE FROM SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR;

DROP TABLE IF EXISTS SEARCH_CONTACT_FLOW_TRACKING_NEW_CURR;
