webpackJsonp([6],{"./src/photoAlbum/containers/PhotoAlbumPage.js":function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i("./node_modules/react/react.js"),r=i.n(o),l=i("./node_modules/axios/index.js"),c=(i.n(l),i("./src/common/components/CookieHelper.js")),d=i("./src/myjs/components/MyjsSliderBinding.js"),u=i("./src/common/components/ApiResponseHandler.js"),m=i("./src/common/constants/apiConstants.js"),p=(i("./src/common/components/Loader.js"),function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}());i("./src/photoAlbum/style/albumcss.css");var h=function(e){function t(e){s(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.sliderTupleStyle={whiteSpace:"nowrap",fontSize:"0px",overflowX:"hidden",display:"table",height:window.innerHeight+"px"},a.state={getRes:null,recAlbumlink:!1,setCont:0,sliderStyle:a.sliderTupleStyle,tupleWidth:{width:window.innerWidth},screendim:{width:window.innerWidth,height:window.innerHeight},intialACount:1},a.CssFix(),localStorage.removeItem("lastProfilePageLocation"),i.i(c.a)("AUTHCHECKSUM")||(window.location.href="/login?prevUrl=/myjs"),a}return a(t,e),p(t,[{key:"componentDidMount",value:function(){var e=void 0,t=this,s=i.i(c.a)("AUTHCHECKSUM"),n=t.props.location.search.replace("profilechecksum","profileChecksum");e=s?"?&"+t.props.location.search.replace("profilechecksum","profileChecksum").substr(1):n,i.i(u.a)(m.e+e,{},"","POST").then(function(e){t.setState({getRes:e,recAlbumlink:!0})})}},{key:"componentDidUpdate",value:function(){if(this.state.recAlbumlink&&!this.sliderBound&&void 0==this.state.getRes.showConditionalPhotoLayer){this.sliderBound=1;var e=document.getElementById("galleryContainer");this.obj=new d.a(e,this.state.getRes.albumUrls,{nxtSlideFun:this.incrCount.bind(this),prvSlideFun:this.decrCount.bind(this),styleFunction:this.alterCssStyle.bind(this)},1,"","","Palbum"),this.obj.initTouch()}}},{key:"alterCssStyle",value:function(e,t){var i=this;this.setState(function(s){var n=Object.assign({},s.sliderStyle);n[i.cssProps.cssPrefix+"TransitionDuration"]=e+"ms";var a="translate3d("+t+"px, 0, 0)";return n[i.cssProps.animProp]=a,s.sliderStyle=n,s})}},{key:"incrCount",value:function(){var e=this.state.intialACount;e>=this.state.getRes.albumUrls.length||(++e,this.setState({intialACount:e}))}},{key:"decrCount",value:function(){var e=this.state.intialACount;e<=1||(--e,this.setState({intialACount:e}))}},{key:"CssFix",value:function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]]){var s=t[i].replace("Perspective","");this.cssProps={cssPrefix:s,animProp:s+"Transform"}}}},{key:"_onLoad",value:function(e){var t=void 0,i=void 0,s=void 0,n=void 0,a=void 0;t=e.target.offsetWidth,i=e.target.offsetHeight,a=e.target.id.split("_"),window.innerWidth/window.innerHeight>t/i?(n=parseInt(t*(window.innerHeight/i)),document.getElementById(e.target.id).style.width=n+"px",document.getElementById(e.target.id).style.height=window.innerHeight+"px"):(s=parseInt(window.innerWidth*(i/t)),document.getElementById(e.target.id).style.height=s+"px",document.getElementById(e.target.id).style.width=window.innerWidth+"px"),document.getElementById("albumLoader_"+a[1]).style.display="none",document.getElementById(e.target.id).style.visibility="visible"}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;if(this.state.recAlbumlink){if(this.state.recAlbumlink&&this.state.getRes.showConditionalPhotoLayer)return r.a.createElement("div",{className:"bg14 posrel disptbl",style:this.state.screendim},r.a.createElement("i",{className:"up_sprite puback posabs z1 bckpos",onClick:function(){return e.goBack()}}),r.a.createElement("div",{className:"dispcell vertmid pad3 txtc white"},r.a.createElement("p",{class:"txtc"},"It has been while since you registered on Jeevansathi, hence we rquired you to add a photo to able to see other members album."),r.a.createElement("p",{className:"pt20 txtc"},"If you have privacy concerns,you can make your photo visible on only on acceptance thorugh privacy settings.")),r.a.createElement("div",{className:"posabs bckpos2 fullwid"},r.a.createElement("a",{href:"/profile/viewprofile.php?ownview=1"},r.a.createElement("div",{className:"bg7 f18 white lh30 fullwid dispbl txtc lh50"},"Upload Photo"))));window.innerWidth,window.innerWidth,this.state.getRes.albumUrls.length,window.innerHeight;return r.a.createElement("div",{className:"posrel",style:{height:window.innerHeight}},r.a.createElement("i",{className:"up_sprite puback posabs z1 bckpos",onClick:function(){return e.goBack()}}),r.a.createElement("div",{className:"posabs z1 bckpos1 fontlig f18 white"},this.state.intialACount,"/",this.state.getRes.albumUrls.length),r.a.createElement("div",{className:"bg14 posabs",id:"galleryContainer",style:this.state.sliderStyle},this.state.getRes.albumUrls.map(function(t,i){return r.a.createElement("div",{className:"dispcell vertmid txtc",style:e.state.tupleWidth,key:i},r.a.createElement("div",{className:"posrel",style:e.state.screendim},r.a.createElement("img",{id:"albumLoader_"+i,className:"loadrpos posabs setmid",src:"https://static.jeevansathi.com/images/jsms/commonImg/loader.gif"}),r.a.createElement("img",{id:"albumImage_"+i,src:t,onLoad:e._onLoad,className:"imghid posabs setmid"})))})))}return r.a.createElement("div",{className:"noData album bg14 posrel",style:this.state.screendim},r.a.createElement("div",{className:"posabs setmid"},r.a.createElement("img",{src:"https://static.jeevansathi.com/images/jsms/commonImg/loader.gif"})))}}]),t}(r.a.Component);t.default=h},"./src/photoAlbum/style/albumcss.css":function(e,t){}});